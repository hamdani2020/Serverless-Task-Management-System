{"ast":null,"code":"var _jsxFileName = \"/home/user/Task-Manager/task-manager-frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"react-oidc-context\";\nimport TaskList from \"./components/TaskList\";\nimport TaskForm from \"./components/TaskForm\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = \"https://your-api-gateway-url\";\nfunction App() {\n  _s();\n  const auth = useAuth();\n  const [tasks, setTasks] = useState([]);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    if (auth.isAuthenticated) {\n      fetchTasks();\n    }\n  }, [auth.isAuthenticated]);\n  const fetchTasks = async () => {\n    try {\n      var _auth$user;\n      const response = await axios.get(`https://71aos5nio2.execute-api.eu-west-1.amazonaws.com/getTask`, {\n        headers: {\n          Authorization: `Bearer ${(_auth$user = auth.user) === null || _auth$user === void 0 ? void 0 : _auth$user.access_token}`\n        }\n      });\n      setTasks(response.data);\n    } catch (err) {\n      setError(\"Failed to fetch tasks\");\n    }\n  };\n  const handleCreateTask = async task => {\n    try {\n      var _auth$user2;\n      const response = await axios.post(`${API_BASE_URL}/tasks`, task, {\n        headers: {\n          Authorization: `Bearer ${(_auth$user2 = auth.user) === null || _auth$user2 === void 0 ? void 0 : _auth$user2.access_token}`\n        }\n      });\n      setTasks([...tasks, response.data]);\n    } catch (err) {\n      setError(\"Failed to create task\");\n    }\n  };\n  if (auth.isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }, this);\n  }\n  if (auth.error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Encountering error... \", auth.error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 12\n    }, this);\n  }\n  if (auth.isAuthenticated) {\n    var _auth$user3;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Welcome, \", (_auth$user3 = auth.user) === null || _auth$user3 === void 0 ? void 0 : _auth$user3.profile.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(TaskForm, {\n        onCreateTask: handleCreateTask\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TaskList, {\n        tasks: tasks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => auth.removeUser(),\n        children: \"Sign out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => auth.signinRedirect(),\n      children: \"Sign in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"+aC+o5NmzFTnkOThacxkPJaXn1w=\", false, function () {\n  return [useAuth];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","TaskList","TaskForm","axios","jsxDEV","_jsxDEV","API_BASE_URL","App","_s","auth","tasks","setTasks","error","setError","isAuthenticated","fetchTasks","_auth$user","response","get","headers","Authorization","user","access_token","data","err","handleCreateTask","task","_auth$user2","post","isLoading","children","fileName","_jsxFileName","lineNumber","columnNumber","message","_auth$user3","profile","email","style","color","onCreateTask","onClick","removeUser","signinRedirect","_c","$RefreshReg$"],"sources":["/home/user/Task-Manager/task-manager-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"react-oidc-context\";\nimport TaskList from \"./components/TaskList\";\nimport TaskForm from \"./components/TaskForm\";\nimport axios from \"axios\";\n\nconst API_BASE_URL = \"https://your-api-gateway-url\";\n\nfunction App() {\n  const auth = useAuth();\n  const [tasks, setTasks] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    if (auth.isAuthenticated) {\n      fetchTasks();\n    }\n  }, [auth.isAuthenticated]);\n\n  const fetchTasks = async () => {\n    try {\n      const response = await axios.get(`https://71aos5nio2.execute-api.eu-west-1.amazonaws.com/getTask`, {\n        headers: { Authorization: `Bearer ${auth.user?.access_token}` },\n      });\n      setTasks(response.data);\n    } catch (err) {\n      setError(\"Failed to fetch tasks\");\n    }\n  };\n\n  const handleCreateTask = async (task) => {\n    try {\n      const response = await axios.post(`${API_BASE_URL}/tasks`, task, {\n        headers: { Authorization: `Bearer ${auth.user?.access_token}` },\n      });\n      setTasks([...tasks, response.data]);\n    } catch (err) {\n      setError(\"Failed to create task\");\n    }\n  };\n\n  if (auth.isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  if (auth.error) {\n    return <div>Encountering error... {auth.error.message}</div>;\n  }\n\n  if (auth.isAuthenticated) {\n    return (\n      <div>\n        <h1>Welcome, {auth.user?.profile.email}</h1>\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\n        <TaskForm onCreateTask={handleCreateTask} />\n        <TaskList tasks={tasks} />\n        <button onClick={() => auth.removeUser()}>Sign out</button>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <button onClick={() => auth.signinRedirect()}>Sign in</button>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}